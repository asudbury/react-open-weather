(this["webpackJsonpreact-open-weather"]=this["webpackJsonpreact-open-weather"]||[]).push([[0],{130:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),c=a.n(i),o=(a(99),a(181)),l=a(182),u=a(12),s=a(81),m=a.n(s),p=a(176),d=a(183),g=a(169),f=a(187),h=a(179),E=a(177),y=a(178),v=a(75),b=a.n(v),w=a(173),S=function(){return r.a.createElement(g.a,{container:!0,spacing:2,alignItems:"flex-end"},r.a.createElement(g.a,{item:!0},r.a.createElement(b.a,{color:"primary",fontSize:"large"})),r.a.createElement(g.a,{item:!0},r.a.createElement(w.a,{variant:"h6",noWrap:!0},"Weather Forecast")))},O=a(49),k=a(184),j=a(80),x=a.n(j),C=a(174),I=a(76),M=a.n(I),F=a(77),W=a.n(F);var _={current:null},U=Object(C.a)((function(e){return{icon:{color:e.palette.text.secondary,marginRight:e.spacing(2)}}}));function A(e){var t=e.googleKey,a=e.setCity,n=e.citySearch,i=U(),c=r.a.useState(null),o=Object(u.a)(c,2),l=o[0],s=o[1],m=r.a.useState(""),p=Object(u.a)(m,2),f=p[0],h=p[1],E=r.a.useState([]),y=Object(u.a)(E,2),v=y[0],b=y[1],S=r.a.useRef(!1);"undefined"===typeof window||S.current||(document.querySelector("#google-maps")||function(e,t,a){if(t){var n=document.createElement("script");n.setAttribute("async",""),n.setAttribute("id",a),n.src=e,t.appendChild(n)}}("https://maps.googleapis.com/maps/api/js?key="+t+"&libraries=places",document.querySelector("head"),"google-maps"),S.current=!0);var j=r.a.useMemo((function(){return W()((function(e,t){_.current.getPlacePredictions(e,t)}),200)}),[]),C=function(e){"Enter"===e.key&&n(l)};return r.a.useEffect((function(){var e=!0;if(!_.current&&window.google&&(_.current=new window.google.maps.places.AutocompleteService),_.current){if(""!==f)return j({input:f},(function(t){if(e){var a=[];l&&(a=[l]),t&&(a=[].concat(Object(O.a)(a),Object(O.a)(t))),b(a)}})),function(){e=!1};b(l?[l]:[])}}),[l,f,j]),r.a.createElement(k.a,{style:{width:300},getOptionLabel:function(e){return"string"===typeof e?e:e.description},filterOptions:function(e){return e},options:v,autoComplete:!0,includeInputInList:!0,freeSolo:!0,selectOnFocus:!0,filterSelectedOptions:!0,value:l,onChange:function(e,t){b(t?[t].concat(Object(O.a)(v)):v),s(t),null!=t&&n(t.description)},onInputChange:function(e,t){h(t),a(t)},renderInput:function(e){return r.a.createElement(d.a,Object.assign({},e,{onKeyPress:C,label:"Enter City...",variant:"outlined",fullWidth:!0}))},renderOption:function(e){var t=null;if(null!=e){var a=e.structured_formatting.main_text_matched_substrings;t=M()(e.structured_formatting.main_text,a.map((function(e){return[e.offset,e.offset+e.length]})))}return r.a.createElement(g.a,{container:!0,alignItems:"center"},r.a.createElement(g.a,{item:!0},r.a.createElement(x.a,{className:i.icon,color:"primary"})),r.a.createElement(g.a,{item:!0,xs:!0},t.map((function(e,t){return r.a.createElement("span",{key:t,style:{fontWeight:e.highlight?700:400}},e.text)})),r.a.createElement(w.a,null,e.structured_formatting.secondary_text)))}})}var P=function(e){var t=e.googleKey,a=e.units,i=e.setUnits,c=e.citySearch,o=e.coordinatesSearch,l=(e.invalid,Object(n.useState)("")),s=Object(u.a)(l,2),v=s[0],b=s[1],w=function(){c(v)};return r.a.createElement(E.a,null,r.a.createElement(y.a,null,r.a.createElement(S,null),r.a.createElement(g.a,{container:!0,spacing:2},r.a.createElement(g.a,null,r.a.createElement(A,{googleKey:t,setCity:b,citySearch:c}),r.a.createElement(h.a,{variant:"outlined",style:{background:"transparent"},onClick:o},"Use my current location")),r.a.createElement(g.a,{item:!0},r.a.createElement(d.a,{select:!0,value:a,onChange:function(e){i(e.target.value)}},r.a.createElement(f.a,{key:"metric",value:"metric"},"Celsius"),r.a.createElement(f.a,{key:"imperial",value:"imperial"},"Farenheit"))),r.a.createElement(g.a,{item:!0},r.a.createElement(p.a,{"aria-label":"search",onClick:function(e){w()}},r.a.createElement(m.a,{color:"primary",fontSize:"large"})))),r.a.createElement(g.a,{item:!0})))},K=a(180),D=a(185),L=function(){var e=r.a.useState(!0),t=Object(u.a)(e,2),a=t[0],n=t[1];return r.a.createElement(g.a,{container:!0,spacing:2,alignItems:"flex-end"},r.a.createElement(g.a,{item:!0},r.a.createElement(K.a,{in:a},r.a.createElement(D.a,{severity:"error",onClose:function(){n(!1)}},"Please specify a valid API key"))))},z=a(82),B=a.n(z),H=function(e){var t=e.city;return r.a.createElement(E.a,null,r.a.createElement(y.a,null,r.a.createElement(g.a,{container:!0,spacing:2,alignItems:"flex-end"},r.a.createElement(g.a,{item:!0},r.a.createElement(B.a,{style:{fontSize:100}})),r.a.createElement(g.a,{item:!0},r.a.createElement(w.a,{variant:"h2",noWrap:!0},t.name),r.a.createElement(w.a,{variant:"h6",noWrap:!0},t.country))),r.a.createElement(g.a,{container:!0,spacing:2,alignItems:"flex-end"},r.a.createElement(g.a,{item:!0},void 0!==t.population&&r.a.createElement(w.a,{variant:"h6",noWrap:!0},"population ",Number(t.population).toLocaleString())),r.a.createElement(g.a,{item:!0},r.a.createElement(h.a,{variant:"outlined",href:t.googleUrl,underline:"always",target:"_blank",rel:"noopener noreferrer"},"map")),r.a.createElement(g.a,{item:!0},r.a.createElement(h.a,{variant:"outlined",href:t.wikiUrl,underline:"always",target:"_blank",rel:"noopener noreferrer"},"wiki")))))},N=function(e){var t=e.now;return r.a.createElement(E.a,null,r.a.createElement(y.a,null,r.a.createElement("img",{src:t.icon,alt:"weather icon"}),r.a.createElement(w.a,{variant:"h2"},t.temperature.current,"\xb0",t.unitIndicator),r.a.createElement(w.a,{variant:"h4"},t.description),r.a.createElement(w.a,{variant:"h6"},"Sunrise ",t.sunrise," Sunset ",t.sunset),r.a.createElement(w.a,{variant:"h6"},"Min ",t.temperature.min,"\xb0",t.unitIndicator," Max"," ",t.temperature.max,"\xb0",t.unitIndicator),r.a.createElement(w.a,{variant:"h6"},"Wind ",t.wind," km/h"),r.a.createElement(w.a,{variant:"h6"},"Humidity ",t.humidity,"%")))},T=function(e){var t=e.forecasts;return r.a.createElement(g.a,{container:!0,spacing:2},t.map((function(e,t){return r.a.createElement(g.a,{item:!0,key:t},r.a.createElement(E.a,{variant:"outlined"},r.a.createElement(y.a,null,r.a.createElement(w.a,{variant:"h6",align:"center"},e.day," ",e.time),r.a.createElement(w.a,{variant:"h6",align:"center"},r.a.createElement("img",{src:e.icon,alt:"weather icon"})),r.a.createElement(w.a,{variant:"h4",align:"center"},e.temperature,"\xb0"),r.a.createElement(w.a,{variant:"h6",align:"center"},e.description))))})))},q=a(83),J=a(84),Q=a(37),R=a.n(Q);function $(e){return"http://openweathermap.org/img/wn/".concat(e,"@2x.png ")}function G(e){var t=new Date(1e3*e).getDay();return t===(new Date).getDay()?"Today":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t]}function V(e){var t=new Date(1e3*e),a=t.getHours()<10?"0"+t.getHours():t.getHours(),n=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes();return"".concat(a,":").concat(n)}function X(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Y(e,t,a){var n,r={};return r.city=e.city,r.city.googleUrl="https://www.google.co.uk/maps/place/"+e.city.name,r.city.wikiUrl="https://en.wikipedia.org/wiki/"+e.city.name,r.now={description:X(t.weather[0].description),icon:$(t.weather[0].icon),temperature:{min:t.main.temp_min.toFixed(0),max:t.main.temp_max.toFixed(0),current:t.main.temp.toFixed(0)},wind:t.wind.speed.toFixed(0),humidity:t.main.humidity,sunrise:V(t.sys.sunrise),sunset:V(t.sys.sunset),unitIndicator:(n=a,"imperial"===n?"F":"C"),unit:a},r.forecasts=function(e){for(var t=[],a=e.length,n=0;n<a;n++){var r={};r.day=G(e[n].dt),r.time=V(e[n].dt),r.temperature=e[n].main.temp.toFixed(0),r.description=X(e[n].weather[0].description),r.icon=$(e[n].weather[0].icon),t.push(r)}return t}(e.list),r}var Z=function(){function e(t,a,n){Object(q.a)(this,e),this.unit=t,this.apiKey=a,this.baseApiUrl="//api.openweathermap.org/data/2.5",this.lang=n}return Object(J.a)(e,[{key:"getForecast",value:function(e){var t=this,a=this.baseApiUrl+"/forecast",n=this.baseApiUrl+"/weather",r=Object.assign({appid:this.apiKey,lang:this.lang,unit:this.unit},e);return R.a.all([R.a.get(a,{params:r}),R.a.get(n,{params:r})]).then(R.a.spread((function(e,a){var n=e.data,r=a.data;return n&&r?Y(n,r,t.unit):{}})))}}]),e}(),ee=function(e){var t=e.apiKey,a=Object(n.useState)(!1),i=Object(u.a)(a,2),c=i[0],o=i[1],l=Object(n.useState)("metric"),s=Object(u.a)(l,2),m=s[0],p=s[1],d=Object(n.useState)(null),g=Object(u.a)(d,2),f=g[0],h=g[1],E=Object(n.useState)(null),y=Object(u.a)(E,2),v=y[0],b=y[1],w=Object(n.useState)(null),S=Object(u.a)(w,2),O=S[0],k=S[1],j=Object(n.useState)("AIzaSyBQJ5nuBEu18372atNGIXPVPEMmske2CQM"),x=Object(u.a)(j,1)[0],C=function(e){var a=new Z(m,t,"en").getForecast(e);a.then((function(e){"undefined"!=typeof e&&(h(e.city),b(e.now),k(e.forecasts))})),a.catch((function(e){401===e.response.status&&o(!0),h(null),b(null),k(null)}))};return r.a.createElement("div",null,r.a.createElement(P,{units:m,setUnits:p,citySearch:function(e){e&&e.length>2&&C({q:e,units:m})},coordinatesSearch:function(){navigator.geolocation.getCurrentPosition((function(e){var t={lat:e.coords.latitude,lon:e.coords.longitude,units:m};C(t)}))},googleKey:x}),c&&r.a.createElement(L,null),f&&r.a.createElement(H,{city:f}),v&&r.a.createElement(N,{now:v}),O&&r.a.createElement(T,{forecasts:O}))},te=a(85),ae=a(186),ne=Object(te.a)({palette:{type:"dark"},typography:{button:{textTransform:"none",backgroundColor:"blue"},h6:{color:"white"}},overrides:{MuiPaper:{root:{backgroundColor:"transparent"},elevation1:{},elevation8:{backgroundColor:"blue"}},MuiSvgIcon:{colorPrimary:{color:"white"}},MuiFormLabel:{root:{color:"white","&$focused":{color:"white",fontWeight:"bold"}}},MuiInput:{root:{color:"white"}},MuiInputLabel:{root:{color:"white"}},MuiSelect:{icon:{color:"white"}},MuiAutocomplete:{listbox:{backgroundColor:"blue"}}}}),re=ne=Object(ae.a)(ne),ie=(a(130),function(){return r.a.createElement(o.a,{theme:re},r.a.createElement(l.a,{className:"container"},r.a.createElement(ee,{apiKey:"5ce07d841919bc82dcccf2f3c310c2eb"})))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},94:function(e,t,a){e.exports=a(131)},99:function(e,t,a){}},[[94,1,2]]]);
//# sourceMappingURL=main.c592f040.chunk.js.map